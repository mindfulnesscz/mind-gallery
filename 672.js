"use strict";(self.webpackChunkmind_gallery=self.webpackChunkmind_gallery||[]).push([[672],{672:(e,t,l)=>{l.d(t,{Z:()=>m});var a=l(313),s=l.n(a),n=l(333);const o=({className:e})=>s().createElement("svg",{className:"w-full h-full",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 50 50"},s().createElement("polygon",{className:e,points:"50,22.9 6.1,22.9 18.3,10.4 16,8.1 0,24.6 16,41 18.3,38.8 6.1,26.2 50,26.2 "})),r=({className:e})=>s().createElement("svg",{className:"w-full h-full",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32"},s().createElement("g",null,s().createElement("polygon",{className:e,points:"23.5,3 8.5,3 1,16 8.5,29 23.5,29 31,16"}))),i=({className:e})=>s().createElement("svg",{className:"w-full h-full",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32"},s().createElement("path",{className:e,d:"M24,2.1H8L0,16l8,13.9h16L32,16L24,2.1L24,2.1z"})),c=({className:e})=>s().createElement("svg",{className:"w-full h-full",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 80 80 "},s().createElement("path",{className:e,d:"M60,5.4H20L0,40l20,34.6h40L80,40L60,5.4L60,5.4z"})),m=({feed:e,settings:t})=>{const[l,m]=(0,a.useState)(""),[u,d]=(0,a.useState)(null),{imageRatio:p=1.618,throttleDelay:f=100,galleryEasing:g={duration:.6,ease:"Sine.easeInOut"}}=t,[v,w]=(0,a.useState)(0),[h,x]=(0,a.useState)(0),[E,N]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!0),[k,S]=(0,a.useState)(null),T=(0,a.useRef)(null),j=Array.from({length:e.length},(()=>s().createRef())),L=(0,a.useRef)(j),z=()=>{if(console.log("setting"),!E){if(T&&T.current){const e=T.current.offsetWidth;T.current.style.height=e/t.imageRatio+"px",w(e),console.log("new height is "+e/t.imageRatio)}N(!0),setTimeout((()=>{console.log("wtfwtf"),N(!1)}),100)}},C=(l,a=0,s="")=>{const o=L.current[a].current,r=L.current[l].current;o&&r&&(u&&clearTimeout(u),"init"!=s?(gsap.set(o,{left:0}),gsap.set(r,{left:l<a&&"next"!=s||"prev"==s?"-100%":"100%"}),gsap.to(o,Object.assign({left:l<a&&"next"!=s||"prev"==s?"100%":"-100%"},t.galleryEasing)),gsap.to(r,Object.assign(Object.assign({left:0},t.galleryEasing),{onComplete:()=>{y&&d(setTimeout((()=>{C(l+1===e.length?0:l+1,l,"next")}),5e3))}}))):y&&d(setTimeout((()=>{C(l+1===e.length?0:l+1,l,"next")}),5e3)),x(l),m(e[l].node.altText),k&&(console.log(k),k.pause()),"vimeo"==e[l].node.type&&(console.log(r),S(new n.Z(r.querySelector("iframe")))))};return(0,a.useEffect)((()=>(z(),console.log(L.current[0].current),gsap.set(L.current[0].current,{left:0}),window.addEventListener("resize",z),m(e[0].node.altText),e.map(((e,t)=>{"vimeo"==e.node.type&&(console.log("shutting outoplay"),b(!1))})),console.log(y+" - autoplay"),C(0,e.length-1,"init"),()=>{u&&clearTimeout(u),d(null)})),[y]),s().createElement("div",{className:"flex relative flex-wrap justify-center w-full "},s().createElement("div",{ref:T,className:"overflow-hidden relative w-full rounded-3xl"},e.map(((e,t)=>{return s().createElement("div",{key:`image-${t}`,ref:L.current[t],className:`element-${t} absolute left-full top-0  w-full h-full`},s().createElement("div",{className:"relative w-full h-full"},"vimeo"==(l=e).node.type?s().createElement("div",{className:"mind-vimeo-responsive"},s().createElement("iframe",{className:"mind-vimeo-responsive-item",src:l.node.altText,width:"1920",height:"1080",allowFullScreen:!0})):"mp4"==l.node.type?s().createElement("video",{id:"my-video",className:"video-js vjs-16-9",controls:!0,preload:"auto",width:"960",height:"540",poster:l.node.sourceUrl,"data-setup":"{}"},s().createElement("source",{src:l.node.altText,type:"video/mp4"}),s().createElement("p",{className:"vjs-no-js"},"To view this video please enable JavaScript, and consider upgrading to a web browser that supports it.")):s().createElement("img",{className:"",src:l.node.sourceUrl,sizes:"(min-width: 1024px) 1024px, 100vw",alt:l.node.altText})));var l})),s().createElement("div",{onClick:()=>{const t=h===e.length-1?0:h+1;C(t,h,"next")},className:"mind-hexa-button absolute top-1/2 -mt-7 md:-mt-10 w-14 h-14 md:w-20 md:h-20 rounded-full cursor-pointer sm:bottom-0 md:right-2 right-0"},s().createElement("div",{className:"relative p-4 z-10 rotate-180"},s().createElement(o,{className:"fill-itsblue w-2 h-2"})),s().createElement("div",{className:"absolute z-0 w-full h-full top-0 left-0"},s().createElement(c,{className:"fill-white "}))),s().createElement("div",{onClick:()=>{const t=0===h?e.length-1:h-1;C(t,h,"prev")},className:"mind-hexa-button absolute top-1/2 left-0 -mt-7 md:-mt-10 w-14 h-14 md:w-20 md:h-20 rounded-full cursor-pointer md:left-2"},s().createElement("div",{className:"relative p-4 z-10"},s().createElement(o,{className:"fill-itsblue w-2 h-2"})),s().createElement("div",{className:"absolute z-0 w-full h-full top-0 left-0"},s().createElement(c,{className:"fill-white"})))),s().createElement("div",{className:"flex justify-center w-full rounded-full"},s().createElement("div",{className:"px-2"},e.map(((e,t)=>s().createElement("div",{onClick:t!==h?()=>{C(t,h,"")}:()=>{console.log("")},key:`img-button-${t}`,className:"relative inline-block mx-1 lg:mx-1 mt-2 w-6 h-6 lg:w-10 lg:h-10 "+(t!==h?"cursor-pointer":"")},s().createElement("div",{className:"mind-bottom-button absolute w-full h-full"},s().createElement(r,{className:(t===h?"stroke-itsblue":"stroke-gray-300")+" fill-white"})),s().createElement("div",{className:"absolute w-full h-full p-2 duration-300 transition-all "+(t===h?"opacity-100 scale-100":"opacity-0 scale-0")},s().createElement(i,{className:"fill-itsblue"}))))))))}}}]);
//# sourceMappingURL=672.js.map